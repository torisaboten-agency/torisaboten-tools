<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æŠ›ç¡¬å¸å·¥å…· - Torisaboten</title>
    <link rel="stylesheet" href="../shared/styles.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="icon" href="../shared/assets/logo.png" type="image/png">
</head>
<body>
    <div id="app">
        <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
        <div class="app-header">
            <div class="app-header-content">
                <div class="app-logo">
                    <img src="../shared/assets/logo.png" alt="App Logo" style="width: 32px; height: 32px;">
                </div>
                <div class="app-title-wrapper">
                    <div class="app-title">
                        <h1>æŠ›ç¡¬å¸å·¥å…·</h1>
                        <p class="app-author">By Torisaboten</p>
                    </div>
                </div>
                <div style="width: 48px;"></div>
            </div>
        </div>

        <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
        <main class="main-content">
            <div class="container">
                <!-- è‡ªå®šä¹‰é€‰é¡¹åŒºåŸŸ -->
                <div class="coin-settings">
                    <h2>è‡ªå®šä¹‰ç¡¬å¸é€‰é¡¹</h2>
                    <div class="settings-grid">
                        <div class="setting-item">
                            <label for="heads-text">æ­£é¢ç»“æœï¼š</label>
                            <input 
                                v-model="headsText" 
                                id="heads-text" 
                                type="text" 
                                placeholder="ä¾‹å¦‚ï¼šæ­£é¢ã€æ˜¯ã€åŒæ„" 
                                maxlength="20"
                            >
                        </div>
                        <div class="setting-item">
                            <label for="tails-text">åé¢ç»“æœï¼š</label>
                            <input 
                                v-model="tailsText" 
                                id="tails-text" 
                                type="text" 
                                placeholder="ä¾‹å¦‚ï¼šåé¢ã€å¦ã€æ‹’ç»" 
                                maxlength="20"
                            >
                        </div>
                    </div>
                    
                    <!-- ç¡¬å¸ç«‹èµ·é€‰é¡¹ -->
                    <div class="setting-item checkbox-item">
                        <label class="checkbox-label">
                            <input 
                                v-model="canStand" 
                                type="checkbox" 
                                @change="onStandingChange"
                            >
                            <span class="checkmark"></span>
                            ç¡¬å¸å¯ä»¥ç«‹èµ·
                        </label>
                    </div>
                    
                    <!-- ç«‹èµ·é…ç½®é€‰é¡¹ -->
                    <div v-if="canStand" class="standing-config">
                        <div class="settings-grid">
                            <div class="setting-item">
                                <label for="standing-text">ç«‹èµ·ç»“æœï¼š</label>
                                <input 
                                    v-model="standingText" 
                                    id="standing-text" 
                                    type="text" 
                                    placeholder="ä¾‹å¦‚ï¼šé‡æ–°æŠ›ã€å¹³å±€" 
                                    maxlength="20"
                                >
                            </div>
                            <div class="setting-item">
                                <label for="standing-probability">ç«‹èµ·æ¦‚ç‡ (%)ï¼š</label>
                                <input 
                                    v-model.number="standingProbability" 
                                    id="standing-probability" 
                                    type="number" 
                                    min="0" 
                                    max="50" 
                                    step="0.1"
                                    placeholder="1.0"
                                >
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ç¡¬å¸åŒºåŸŸ -->
                <div class="coin-area">
                    <div class="coin-container">
                        <div 
                            class="coin" 
                            :class="coinClass"
                            @animationend="onAnimationEnd"
                        >
                            <div class="coin-face coin-heads">
                                <div class="coin-text">{{ headsText }}</div>
                            </div>
                            <div class="coin-face coin-tails">
                                <div class="coin-text">{{ tailsText }}</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ç»“æœæ˜¾ç¤º -->
                    <div class="result-display" v-if="lastResult">
                        <div class="result-icon">{{ 
                            lastResult.result === 'heads' ? 'ğŸ‰' : 
                            lastResult.result === 'tails' ? 'âœ¨' : 'âš¡' 
                        }}</div>
                        <div class="result-text">
                            <span v-if="lastResult.result === 'heads'" class="result-label">ç»“æœæ˜¯ æ­£é¢â€”â€”</span>
                            <span v-if="lastResult.result === 'tails'" class="result-label">ç»“æœæ˜¯ åé¢â€”â€”</span>
                            <span v-if="lastResult.result === 'standing'" class="result-label">ç¡¬å¸ç«‹èµ·æ¥äº†ï¼â€”â€”</span>
                            <span class="result-value" :class="lastResult.result">"{{ lastResult.text }}"</span>
                        </div>
                        <div class="result-time">{{ formatTime(lastResult.timestamp) }}</div>
                    </div>
                </div>

                <!-- æŠ›ç¡¬å¸æŒ‰é’® -->
                <div class="action-area">
                    <button 
                        class="flip-button" 
                        @click="flipCoin" 
                        :disabled="isFlipping"
                    >
                        {{ isFlipping ? 'æŠ›ç¡¬å¸ä¸­...' : 'ğŸª™ æŠ›ç¡¬å¸' }}
                    </button>
                    <button 
                        class="clear-button" 
                        @click="clearHistory"
                        v-if="history.length > 0"
                    >
                        ğŸ—‘ï¸ æ¸…ç©ºå†å²
                    </button>
                </div>

                <!-- å†å²è®°å½• -->
                <div class="history-section" v-if="history.length > 0">
                    <h3>æŠ›ç¡¬å¸å†å²è®°å½•</h3>
                    <div class="history-stats">
                        <div class="stat-item">
                            <span class="stat-label">æ€»æ¬¡æ•°ï¼š</span>
                            <span class="stat-value">{{ history.length }}</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">{{ headsText }}ï¼š</span>
                            <span class="stat-value heads">{{ headsCount }}</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">{{ tailsText }}ï¼š</span>
                            <span class="stat-value tails">{{ tailsCount }}</span>
                        </div>
                        <div v-if="standingCount > 0" class="stat-item">
                            <span class="stat-label">{{ standingText }}ï¼š</span>
                            <span class="stat-value standing">{{ standingCount }}</span>
                        </div>
                    </div>
                    <div class="history-list">
                        <div 
                            v-for="(record, index) in history.slice().reverse()" 
                            :key="index"
                            class="history-item"
                            :class="record.result"
                        >
                            <div class="history-result">
                                <span class="history-icon">{{ 
                                    record.result === 'heads' ? 'ğŸ¯' : 
                                    record.result === 'tails' ? 'âš¡' : 'ğŸ›ï¸'
                                }}</span>
                                <span class="history-text">{{ record.text }}</span>
                            </div>
                            <div class="history-time">{{ formatTime(record.timestamp) }}</div>
                        </div>
                    </div>
                </div>

                <!-- ç©ºçŠ¶æ€ -->
                <div class="empty-state" v-if="history.length === 0">
                    <div class="empty-icon">ğŸª™</div>
                    <h3>è¿˜æ²¡æœ‰æŠ›ç¡¬å¸è®°å½•</h3>
                    <p>ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¼€å§‹ä½ çš„ç¬¬ä¸€æ¬¡æŠ›ç¡¬å¸å§ï¼</p>
                </div>
            </div>
        </main>

        <!-- é¡µè„š -->
        <footer class="app-footer">
            <div class="container">
                <p class="footer-text">@Torisaboten 2025 | å®Œå…¨å…è´¹ï¼Œæ¬¢è¿åˆ†äº«ä½¿ç”¨</p>
            </div>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html> 