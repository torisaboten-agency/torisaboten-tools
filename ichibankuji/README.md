# 线下抽奖小助手

## 📖 项目简介

这是一个专为线下活动设计的网页版抽奖工具，支持传统一番赏和概率抽奖两种模式。工具采用纯前端技术实现，数据存储在本地浏览器中，确保数据安全和隐私保护。

## 🌟 主要功能

### 📌 双重抽奖模式
- **一番赏模式**：传统的一番赏抽奖规则，支持多箱设置和LAST赏机制
- **概率抽奖模式**：基于权重的概率抽奖，每个奖项设置获奖概率

### 🔧 核心特性
- ✅ **本地存储**：所有数据存储在本地浏览器，完全离线可用
- ✅ **响应式设计**：完美适配桌面端和移动端
- ✅ **实时进度**：显示当前箱数、剩余奖项等实时信息  
- ✅ **历史记录**：完整的抽奖历史记录，支持撤销最近操作
- ✅ **编辑功能**：可事后修改历史记录中的粉丝ID信息
- ✅ **数据导出**：支持CSV格式和JSON快照导出
- ✅ **重置功能**：支持重置抽奖记录但保留配置信息

## ✨ 功能特性

### 🎯 双重抽奖模式
- **一番赏模式**：完整支持传统一番赏抽奖规则
  - LAST赏机制：每箱最后一次抽奖自动获得LAST赏
  - 无限箱数支持：可设置无限箱数进行连续抽奖
  - 智能切箱：自动检测箱子完成状态并切换到下一箱
- **概率抽奖模式**：基于权重的概率抽奖系统
  - 自定义概率：为每个奖项设置获奖概率
  - 概率验证：确保总概率为100%才能开始抽奖
  - 无限抽奖：支持无限次抽奖，每次按概率随机
- **随机算法**：采用真随机算法确保公平性

### 📊 数据管理
- **本地存储**：基于LocalStorage，数据完全存储在用户浏览器本地
- **数据隔离**：不同用户、不同浏览器、不同设备数据完全独立
- **快照导出**：支持导出JSON格式的完整抽奖快照
- **记录导出**：支持导出详细的抽奖记录表格文件
- **快照导入**：支持导入之前的抽奖快照继续进行

### 🎨 用户界面
- **莫兰迪配色**：采用温暖的莫兰迪色系设计
- **响应式设计**：完美适配桌面端和移动端，优化移动端显示
- **动画效果**：丰富的交互动画和视觉反馈
- **直观操作**：简洁明了的操作流程
- **智能提示**：美观的通知系统和tooltip说明
- **图标化操作**：直观的图标按钮，提升用户体验

### 🔧 高级功能
- **撤销功能**：支持撤销最近的抽奖记录
- **跨箱撤销**：智能处理跨箱撤销的复杂逻辑
- **重置抽奖**：清空抽奖记录但保留配置，回到初始状态
- **再来一次**：抽奖完成后可重新开始，保留历史记录
- **返回配置**：可返回配置页面修改设置
- **奖项排序**：智能排序，LAST赏优先，按初始稀有度排序
- **一键清空**：一番赏支持ALL按钮，一次抽完当前箱
- **ID编辑功能**：支持事后修改抽奖者ID信息

## 🚀 快速开始

### 方式一：直接使用
1. 下载项目文件到本地
2. 双击打开 `index.html` 文件

### 方式二：本地服务器
```bash
# 使用Python启动本地服务器
python -m http.server 8000

# 或使用Node.js
npx serve .

# 然后在浏览器访问 http://localhost:8000
```

### 方式三：在线部署
项目为纯前端应用，可直接部署到任何静态网站托管服务：
- GitHub Pages
- Netlify
- Vercel
- 或任何支持静态文件的服务器

## 📖 使用指南

### 创建抽奖

#### 一番赏模式
1. 点击"创建新抽奖"按钮
2. 填写抽奖名称
3. 选择"一番赏"类型
4. 设置总箱数（0表示无限箱数）
5. 选择是否包含LAST赏
6. 配置奖项等级、描述和数量
7. 点击"开始抽奖"完成配置

#### 概率抽奖模式
1. 点击"创建新抽奖"按钮
2. 填写抽奖名称
3. 选择"概率抽奖"类型
4. 配置奖项等级、描述和获奖概率
5. 确保合计概率为100%
6. 点击"开始抽奖"完成配置

### 进行抽奖
1. 在抽奖列表中点击要进行的抽奖
2. 输入抽奖者ID（可选，默认为"匿名OTA"）
3. 设置抽奖次数
4. 点击"开始抽奖"
5. 查看抽奖结果和更新后的奖项状态

### 数据管理
- **导出快照**：保存当前抽奖的完整状态
- **导出记录**：导出详细的抽奖记录表格
- **撤销操作**：点击最新记录的"撤销"按钮
- **重置抽奖**：清空记录但保留配置
- **清空记录**：在首页点击"清空所有记录"

## 🎯 适用场景

- **动漫展会**：角色周边、手办等奖品的抽奖活动
- **企业活动**：年会抽奖、团建活动奖品分发
- **社团活动**：小型聚会、生日派对等抽奖环节
- **直播互动**：主播与粉丝的互动抽奖活动

## 🛠 技术栈

- **HTML5**：现代化的页面结构
- **CSS3**：莫兰迪色系设计，支持响应式布局
- **JavaScript ES6+**：模块化代码架构
- **LocalStorage**：本地数据持久化存储

## 📁 项目结构
```
ts_ichibankuji/
├── index.html          # 主应用页面
├── styles.css          # 主应用样式
├── script.js           # 功能实现
├── docs.html           # 用户文档页面
├── docs-styles.css     # 文档页面样式
├── demo-snapshot.json  # 演示快照
└── README.md           # 项目说明
```

## 🔒 数据安全

- **本地存储**：所有数据仅存储在用户浏览器本地
- **无网络传输**：不会向任何服务器发送抽奖数据
- **用户隔离**：每个用户的数据完全独立，互不影响
- **清除数据**：用户可随时清空本地数据

## 🔧 自定义指南

### 修改配色
主要颜色变量位于 `styles.css` 顶部，采用莫兰迪色系：
- Red Vine: #A0737C
- Rosehip: #C65B78
- Antique: #A8857A
- Rain Storm: #8B9491
- Linen: #F5F1EB

## 🐛 问题反馈

如遇到任何问题或有功能建议，请通过以下方式联系：
- 项目Issues页面
- 邮件联系
- 社交媒体

## 📄 许可证

本项目采用MIT许可证，可自由使用、修改和分发。

---

**线下活动抽奖工具** - 让每次抽奖都充满期待！ 🎲✨